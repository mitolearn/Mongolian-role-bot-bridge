Got it bro 👑 — let’s design /status into a full money + members dashboard with collection flow.
Here’s how it should work:


---

✅ Bot Reply to /status

Title: 📊 Server Finance Dashboard

Fields inside the embed:

1. 💰 Total Revenue (All time)
→ Example: 1,250,000₮

Text below:

> If you want to collect your money, you can withdraw this much.



(this pulls from your DB: all paid invoices for this guild)




---

2. 👥 Active Members (All Plans)
→ Example: 42 Active Members

(count from memberships table where active=1)




---

3. 📦 Plans Breakdown
→ Example:

Bronze: 20 members = 200,000₮

Silver: 15 members = 375,000₮

Gold: 7 members = 245,000₮


(sum each plan’s buyers + total money made)




---

4. 💵 Available to Collect

Gross revenue (all paid invoices for this guild)

Minus 3% service fee

Final = You can collect: 1,212,500₮





---

Buttons under the embed

📤 Collect Now

When admin clicks →

1. Bot sends you (the owner) a private message (to your staff server / DM) with all details:

Guild name & ID

Admin who clicked

Gross revenue, 3% fee, Net payout

Plans breakdown



2. The admin’s “Available to Collect” becomes 0₮ in their /status dashboard (until next payments).




Owner’s Message (to you)

> Server: GuildName (123456789)
Admin: @AdminName
Gross Revenue: 1,250,000₮
Fee (3%): 37,500₮
Net Payout: 1,212,500₮
Plans: Bronze 200k, Silver 375k, Gold 245k



With button: ✅ Done

When you (the owner) click this → it marks payout as “done” in DB.

The admin’s /status stays at 0 collectable until new revenue arrives.




---

⚙️ DB Changes Needed

We add a new table payouts:

CREATE TABLE IF NOT EXISTS payouts (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    guild_id TEXT,
    gross_mnt INTEGER,
    fee_mnt INTEGER,
    net_mnt INTEGER,
    created_at TEXT,
    status TEXT  -- pending|done
);

When admin clicks Collect Now → insert row with pending

When you click Done → update row to done and reset guild’s available balance.



---

Flow Recap

1. Admin runs /status → sees dashboard + Collect Now button.


2. If admin clicks → bot sends payout request to you, sets admin’s collectable = 0.


3. You confirm transfer manually → click Done in your message.


4. DB updated → marked as completed.




---

🔥 Bro, this way you always know who collected, when, and how much.
Admins always see clear money, clear members, clear plans.

Do you want me to write the actual Python/Discord Cog code for this /status (with Collect button + payout flow)?

